!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/dist",o(o.s=6)}([function(e,t,o){"use strict";var n,r;o.d(t,"a",function(){return n}),o.d(t,"b",function(){return r}),function(e){e.GO_TO_PAGE="goToPage",e.ADD_SHOP_ITEM="addShopItem"}(n||(n={})),function(e){e.READY="ready"}(r||(r={}))},function(e,t,o){},,,,,function(e,t,o){"use strict";o.r(t);o(1);var n=o(0);class r{constructor(e,t){void 0!==t&&t.url?this._injectIFramedFlipbook(e,t.url):"string"==typeof e?this._iFramedFlipbook=document.getElementById(e):e.nodeType===Node.ELEMENT_NODE&&"iframe"===e.tagName.toLowerCase()&&(this._iFramedFlipbook=e),window.addEventListener("message",this._onMessage,!1)}getIFrameElement(){return this._iFramedFlipbook}on(e,t){}goToPage(e){this._postMessage({action:n.a.GO_TO_PAGE,data:e})}addShopItem(e){this._postMessage({action:n.a.ADD_SHOP_ITEM,data:e})}_postMessage(e){this._iFramedFlipbook.contentWindow.postMessage(e,"*")}_injectIFramedFlipbook(e,t){let o;if("string"==typeof e){(o=document.createElement("iframe")).src=t,o.classList.add("embedded-flipbook");const n=document.getElementById(e);n.parentNode.insertBefore(o,n.nextSibling),n.remove()}else e.nodeType===Node.ELEMENT_NODE&&"iframe"===e.tagName.toLowerCase()&&((o=e).src=t);this._iFramedFlipbook=o}_onMessage(e){e.data===n.b.READY&&console.log(e)}}const a={flipbook1:new r("flipbook1")};document.getElementById("instantiate-embedded-flipbook").addEventListener("click",e=>{a.flipbook2=new r("flipbook2",{url:"./embedded/flipbook.html"}),document.getElementById("flipbook2-actions").style.display="block",a.flipbook2.on("ready",()=>{alert("!")}),e.target.disabled=!0,document.getElementById("destroy-embedded-flipbook").disabled=!1}),document.getElementById("destroy-embedded-flipbook").addEventListener("click",e=>{const t=a.flipbook2.getIFrameElement(),o=document.createElement("div");t.parentNode.insertBefore(o,t.nextSibling),t.remove(),o.id="flipbook2",o.classList.add("flipbook-placeholder"),o.innerHTML="Placeholder",e.target.disabled=!0,document.getElementById("instantiate-embedded-flipbook").disabled=!1}),Array.from(document.querySelectorAll(".action--go-to-page")).forEach(e=>{e.addEventListener("click",e=>{const t=e.target.getAttribute("data-target"),o=document.querySelector(`.action--go-to-page__value[data-target="${t}"]`);a[t].goToPage(+o.value)})}),Array.from(document.querySelectorAll(".action--add-shop-item")).forEach(e=>{e.addEventListener("click",e=>{const t=e.target,o=t.getAttribute("data-target"),n=document.querySelector(`.action--add-shop-item__value[data-target="${t.getAttribute("data-target")}"]`);a[o].addShopItem(JSON.parse(n.value))})})}]);